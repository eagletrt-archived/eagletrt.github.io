

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Eagle Steering Wheel &mdash; EAGLEDOC 0.2 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="EAGLEDOC 0.2 documentation" href="index.html"/>
        <link rel="up" title="Volante" href="volante.html"/>
        <link rel="next" title="Web Platform" href="webplatform.html"/>
        <link rel="prev" title="Eagle Steering Wheel" href="volanteTurnOnSteer.html"/> 

  
  <script src="static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> EAGLEDOC
          

          
          </a>

          
            
            
              <div class="version">
                0.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="design.html">Design Presentation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="volante.html">Volante</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="volanteCrosscompilazione.html">Guida per crosscompilare le librerie Qt per Raspberry</a></li>
<li class="toctree-l2"><a class="reference internal" href="volanteTurnOnSteer.html">Eagle Steering Wheel</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Eagle Steering Wheel</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#collegamento-al-volante-via-ssh">Collegamento al Volante via SSH</a></li>
<li class="toctree-l3"><a class="reference internal" href="#effettuare-modifiche-al-codice-e-fare-il-deploy-dell-eseguibile">Effettuare modifiche al codice e fare il deploy dell&#8217;eseguibile</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="webplatform.html">Web Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="sensori.html">Sensori</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Help</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">EAGLEDOC</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="volante.html">Volante</a> &raquo;</li>
      
    <li>Eagle Steering Wheel</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <img alt="images/wallpaper.png" src="images/wallpaper.png" />
<div class="section" id="eagle-steering-wheel">
<h1>Eagle Steering Wheel<a class="headerlink" href="#eagle-steering-wheel" title="Permalink to this headline">¶</a></h1>
<div class="section" id="collegamento-al-volante-via-ssh">
<h2>Collegamento al Volante via SSH<a class="headerlink" href="#collegamento-al-volante-via-ssh" title="Permalink to this headline">¶</a></h2>
<p>Per connettersi al volate è necessario che questo sia acceso (si può testarlo in macchina oppure attaccandolo all&#8217;alimentatore da banco.)</p>
<p>Per accenderlo basterà attacare il Molex segnato con lo scotch bianco, in questo modo il pacco <strong class="program">Low Voltage</strong> sarà collegato.</p>
<img alt="images/molex.jpg" src="images/molex.jpg" />
<p>Ora bisogna accendere effettivamente la macchina con la chiave. Sul lato destro sono presenti tre interruttori:</p>
<blockquote>
<div><p><a href="#id1"><span class="problematic" id="id2">*</span></a><strong class="program">Shut Down</strong>: di sicurezza in grado di spegnere immediatamente la macchina ed evitare situazioni di pericolo</p>
<p><a href="#id3"><span class="problematic" id="id4">*</span></a><strong class="program">Low Voltage</strong>: per la strumentazione ed altre cose</p>
<p><a href="#id5"><span class="problematic" id="id6">*</span></a><strong class="program">High Voltage</strong>: Pacco batteria che alimenta i motori</p>
</div></blockquote>
<p>Quello che interessa a noi è il secondo, ora la macchina sarà accesa</p>
<img alt="images/funghetto.jpg" src="images/funghetto.jpg" />
<p>Una volta acceso e completata la procedura di boot, il volante crea una rete Wireless chiamata Pi_AP. Bisogna connettersi ad essa (la password è raspberry), quindi aprire un terminale e digitare il seguente comando:</p>
<div class="highlight-sh"><div class="highlight"><pre>ssh pi@raspberrypi.local
</pre></div>
</div>
<p>Il prompt vi richiederà la password di <a class="reference external" href="mailto:pi&#37;&#52;&#48;raspberrypi&#46;local">pi<span>&#64;</span>raspberrypi<span>&#46;</span>local</a>: la password è <strong class="program">raspberry</strong></p>
<p>Una volta collegati al volante, per far iniziare il programma è necessario digitare questo comando:</p>
<div class="highlight-sh"><div class="highlight"><pre>./EagleSteeringWheel
</pre></div>
</div>
<p>Per riavviare il programma è sufficiente premere &lt;Ctrl-C&gt;</p>
</div>
<div class="section" id="effettuare-modifiche-al-codice-e-fare-il-deploy-dell-eseguibile">
<h2>Effettuare modifiche al codice e fare il deploy dell&#8217;eseguibile<a class="headerlink" href="#effettuare-modifiche-al-codice-e-fare-il-deploy-dell-eseguibile" title="Permalink to this headline">¶</a></h2>
<p>Se si desiderano effettuare modifiche al codice (sia alla parte C++ che a quella QML) e vederle applicate sul volante è sufficiente utilzzare gli script rasp_deploy.sh e deploy.sh entrambi presenti nella cartella Volante.</p>
<p>Il primo inizialmente monta la cartella contente il filesystem presente sul raspberry in una cartella di sistema (qualora non fosse ancora stata montata), successivamente compila il programma per Raspberry (in caso ci fossero file modificati rispetto alla versione già compilata) e lo invia tramite scp (SSH COPY) al volante collegato wireless.</p>
<p>Se l&#8217;output finale fosse qualcosa di simile a &#8221;./EagleSteeringWheel: file busy&#8221;, significa che il programma è ancora in esecuzione sul Raspberry. In questo caso è sufficiente chiudere il programma sul Raspberry e far girare nuovamente lo script rasp_deploy.sh</p>
<div class="highlight-sh"><div class="highlight"><pre>sudo killall Eaglestee<span class="o">(</span>tab<span class="o">)</span>
</pre></div>
</div>
<p>Oppure, con top, trovaimo il pid del processo e killiamo il processo. P.S. (tab) per autocompletamento</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nb">kill</span> -9 pid
</pre></div>
</div>
<p>Comando per compilare &amp; deploy (su terminale):</p>
<div class="highlight-sh"><div class="highlight"><pre>./rasp_deploy.sh
</pre></div>
</div>
<p>Ora dobbiamo far partire il programma con:</p>
<div class="highlight-sh"><div class="highlight"><pre>sudo ./Eaglestee<span class="o">(</span>tab<span class="o">)</span>
</pre></div>
</div>
<p>Dalla cartella locale Volante mandare lo script e inserire <strong class="program">raspberry</strong>, se è vuoa inserire la password sudo personale.</p>
<div class="highlight-sh"><div class="highlight"><pre>sudo ./raspberry
</pre></div>
</div>
<p>Il secondo (deploy.sh) serve per far partire il simulatore del volante sul PC locale. Questo script compila un progetto diverso che integra i file necessari per emulare i tasti e la seriale che si trovano sul volante quando è collegato in macchina.
Lo scopo di questo simulatore è di testare il codice in locale, velocemente e con maggiore controllo di quello che sta accandendo e di verificarne il reale funzionamento in macchina in una seconda fase.</p>
<p>Questo script crea una seriale virtuale con socat e due symlink (ttyV0 e ttyV1) che servono come endpoint per scrivere e leggere sulla seriale. Lo script fa partire sia il simulatore del volante che il simulatore della centralina, che risponde opportunamente agli input del volante.</p>
<p>Comando per compilare &amp; deploy (su terminale):</p>
<div class="highlight-sh"><div class="highlight"><pre>./deploy.sh
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">IMPORTANTE CREARE UNA CARTELLA BUILD NELLA DIRECTORY CORRENTE</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="webplatform.html" class="btn btn-neutral float-right" title="Web Platform" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="volanteTurnOnSteer.html" class="btn btn-neutral" title="Eagle Steering Wheel" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Eagle Trento Racing Team.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="static/jquery.js"></script>
      <script type="text/javascript" src="static/underscore.js"></script>
      <script type="text/javascript" src="static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>